<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>â­ Star Collector â­</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h1>â­ Star Collector â­</h1>

<div id="startScreen">
  <input type="text" id="playerName" placeholder="Masukkan nama Anda">
  <button id="playBtn">Play</button>
</div>

<div id="gameArea" style="display:none;">
  <canvas id="gameCanvas" width="400" height="600"></canvas>

  <div id="hud">
    <span>Score: <span id="score">0</span> | Level: <span id="level">1</span></span>
    <div id="progressBar"><div id="levelProgress"></div></div>
  </div>

  <div id="gameOverOverlay">
    <div>ğŸ’¥ GAME OVER! ğŸ’¥</div>
    <div>Score: <span id="finalScore">0</span></div>
    <button id="restartBtn">Main Lagi</button>
  </div>

  <div id="boardContainer">
    <h3>Leaderboard</h3>
    <table id="board">
      <thead>
        <tr><th>#</th><th>Name</th><th>Score</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<script type="module" src="game.js"></script>
<script type="module">
import { startGame, setPlayerName, loadLeaderboard } from './game.js';

const playBtn = document.getElementById("playBtn");
const playerInput = document.getElementById("playerName");
const startScreen = document.getElementById("startScreen");
const gameArea = document.getElementById("gameArea");

playBtn.addEventListener("click", ()=> {
  const name = playerInput.value.trim();
  if(!name){ alert("Masukkan nama player!"); return; }
  setPlayerName(name);
  startScreen.style.display = "none";
  gameArea.style.display = "block";
  startGame();
  loadLeaderboard();
});
</script>
</body>
</html>
